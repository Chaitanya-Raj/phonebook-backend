(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(13),c=t.n(o),u=t(2),l=function(e){var n=e.filter,t=e.handleFilter;return r.a.createElement("p",null,"filter shown with ",r.a.createElement("input",{value:n,onChange:t}))},i=function(e){var n=e.newName,t=e.newNumber,a=e.handleNameChange,o=e.handleNumberChange,c=e.handleSubmit;return r.a.createElement("form",{onSubmit:c},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:n,onChange:a}),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:t,onChange:o}))),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},m=function(e){var n=e.person,t=e.deletePerson;return r.a.createElement("p",null,n.name," ",n.number," ",r.a.createElement("button",{onClick:function(){return t(n.id)}},"Delete"))},s=function(e){var n=e.persons,t=e.deletePerson;return n.map((function(e){return r.a.createElement(m,{key:e.name,person:e,deletePerson:t})}))},f=t(3),d=t.n(f),h="/api/persons",b=function(){return d.a.get(h)},p=function(e){return d.a.post(h,e)},v=function(e,n){return d.a.put("".concat(h,"/").concat(e),n)},E=function(e){return d.a.delete("".concat(h,"/").concat(e))},g=function(e){var n=e.message,t=e.className;return null===n?null:r.a.createElement("div",{className:t},n)},w=(t(36),function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1],c=Object(a.useState)([]),m=Object(u.a)(c,2),f=m[0],d=m[1],h=Object(a.useState)(""),w=Object(u.a)(h,2),N=w[0],j=w[1],O=Object(a.useState)(""),C=Object(u.a)(O,2),S=C[0],k=C[1],y=Object(a.useState)(""),P=Object(u.a)(y,2),D=P[0],F=P[1],I=Object(a.useState)({msg:null,className:null}),J=Object(u.a)(I,2),L=J[0],x=J[1];Object(a.useEffect)((function(){A()}),[]);var A=function(){b().then((function(e){o(e.data),d(e.data)}))},B=function(e,n){x({msg:e,className:n}),setTimeout((function(){x({msg:null,className:null})}),5e3),A()};return r.a.createElement("div",null,r.a.createElement(g,{message:L.msg,className:L.className}),r.a.createElement("h2",null,"Phonebook"),r.a.createElement(l,{filter:D,handleFilter:function(e){F(e.target.value),d(t.filter((function(n){return n.name.toLowerCase().startsWith(e.target.value.toLowerCase())})))}}),r.a.createElement("h3",null,"add a new"),r.a.createElement(i,{newName:N,newNumber:S,handleNameChange:function(e){j(e.target.value)},handleNumberChange:function(e){k(e.target.value)},handleSubmit:function(e){e.preventDefault();var n={name:N,number:S};if(t.some((function(e){return e.name===N}))){var a=t.find((function(e){return e.name===N}));window.confirm("".concat(a.name," is already added to phonebook, replace the old number with a new one?"))&&v(a.id,n).then((function(){B("Updated ".concat(n.name),"notification")})).catch((function(e){500===e.response.status?B("Information of ".concat(n.name," has already been removed from the server"),"error"):B(e.response.data.error,"error")}))}else p(n).then((function(){B("Added ".concat(n.name),"notification")})).catch((function(e){B(e.response.data.error,"error")}));j(""),k("")}}),r.a.createElement("h3",null,"Numbers"),r.a.createElement(s,{persons:f,deletePerson:function(e){window.confirm("Delete ".concat(t.find((function(n){return n.id===e})).name,"?"))&&E(e).then((function(){B("Deleted ".concat(t.find((function(n){return n.id===e})).name),"notification")}))}}))});c.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.8ce042d6.chunk.js.map